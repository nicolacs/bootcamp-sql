use sys;
use BOOTCAMP_2408;

	CREATE TABLE REGIONS (
		REGION_ID INTEGER PRIMARY KEY,
        REGION_NAME VARCHAR(25)
	);
    
    CREATE TABLE COUNTRIES (
		COUNTRY_ID VARCHAR(2) PRIMARY KEY,
        COUNTRY_NAME VARCHAR(40),
        REGION_ID INTEGER,
        FOREIGN KEY (REGION_ID) REFERENCES REGIONS(REGION_ID)
	);
    
    CREATE TABLE LOCATIONS (
		LOCATION_ID INTEGER PRIMARY KEY,
        STREET_ADDRESS VARCHAR(25),
        POSTAL_CODE VARCHAR(12),
        CITY VARCHAR(30),
        STATE_PROVINCE VARCHAR(12),
        COUNTRY_ID VARCHAR(2),
        FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRIES(COUNTRY_ID)
	);
    
    CREATE TABLE DEPARTMENTS (
		DEPARTMENT_ID INTEGER PRIMARY KEY,
        DEPARTMENT_NAME VARCHAR(30),
        MANAGER_ID INTEGER,
        LOCATION_ID INTEGER,
        FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS(LOCATION_ID)
	);    
    
    CREATE TABLE JOBS (
		JOB_ID VARCHAR(10) PRIMARY KEY,
        JOB_TITLE VARCHAR(35),
        MIN_SALARY DECIMAL,
        MAX_SALARY DECIMAL
	);
    CREATE TABLE EMPLOYEES (
		EMPLOYEE_ID INTEGER PRIMARY KEY,
        FIRST_NAME VARCHAR(20),
        LAST_NAME VARCHAR(25),
        EMAIL VARCHAR(25),
        PHONE_NUMBER VARCHAR(20),
        HIRE_DATE DATE,
        JOB_ID VARCHAR(10),
        SALARY DECIMAL(7,1),
        COMMISSION_PCT DECIMAL(3,1),
        MANAGER_ID INTEGER,
        DEPARTMENT_ID INTEGER,
        FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID),
        FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID) 
	);
    
    CREATE TABLE JOB_HISTORY (
		EMPLOYEE_ID INTEGER,
        START_DATE DATE,
        END_DATE DATE,
        JOB_ID VARCHAR(10),
        DEPARTMENT_ID INTEGER,
        FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID),
        FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEES(EMPLOYEE_ID),
        FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID) 
	);
    
    INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES (1, 'NEW_TERRITORIES');
    INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES (2, 'KOWLOON');
    INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES (3, 'HONGKONG_ISLAND');
    INSERT INTO REGIONS (REGION_ID, REGION_NAME) VALUES (4, 'SHENG_ZHENG');
    INSERT INTO COUNTRIES (COUNTRY_ID, COUNTRY_NAME,REGION_ID) VALUES ('TW', 'TSEUNG_WAN', 1);
	INSERT INTO COUNTRIES (COUNTRY_ID, COUNTRY_NAME,REGION_ID) VALUES ('OL', 'OLYMPIC', 2);
	INSERT INTO COUNTRIES (COUNTRY_ID, COUNTRY_NAME,REGION_ID) VALUES ('DM', 'DONG_MUN', 4);
	INSERT INTO LOCATIONS (LOCATION_ID, STREET_ADDRESS,POSTAL_CODE,CITY,STATE_PROVINCE, COUNTRY_ID) 
		VALUES (001, 'NO.123 TW.STREET','000777','HONGKONG_CITY','TW_CITY','TW');
	INSERT INTO LOCATIONS (LOCATION_ID, STREET_ADDRESS,POSTAL_CODE,CITY,STATE_PROVINCE, COUNTRY_ID) 
		VALUES (002, 'NO.2017 SHINJUKU','000882','TOKYO','TOKYO JP','DM');
	INSERT INTO LOCATIONS (LOCATION_ID, STREET_ADDRESS,POSTAL_CODE,CITY,STATE_PROVINCE, COUNTRY_ID) 
		VALUES (003, 'NO.2014 COLACOLA ROAD','000883','ROMA','ROMAMA','OL');
	INSERT INTO DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME,MANAGER_ID,LOCATION_ID) 
		VALUES (010, 'CUSTOMER SERVICE', 1010, 001);
	INSERT INTO DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME,MANAGER_ID,LOCATION_ID) 
		VALUES (020, 'INFORMATION TECHNOLOGY', 2020, 002);
	INSERT INTO DEPARTMENTS (DEPARTMENT_ID, DEPARTMENT_NAME,MANAGER_ID,LOCATION_ID) 
		VALUES (030, 'MARKETING', 3030, 003);
	INSERT INTO JOBS (JOB_ID, JOB_TITLE, MIN_SALARY, MAX_SALARY)
		VALUES ('IT', 'PROGRAMER', 20000.0, 120000.0);
    INSERT INTO JOBS (JOB_ID, JOB_TITLE, MIN_SALARY, MAX_SALARY)
		VALUES ('CS', 'OFFICER', 13000.0, 50000.0);
	INSERT INTO JOBS (JOB_ID, JOB_TITLE, MIN_SALARY, MAX_SALARY)
		VALUES ('MK', 'OFFICER', 16000.0, 80000.0);
    INSERT INTO EMPLOYEES (EMPLOYEE_ID,FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE,JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID) 
		VALUES (82300, 'JOHN','WONG','JOHNWONG@ABC.COM','61231234',STR_TO_DATE('2020-03-01', '%Y-%m-%d'),'IT', 46000.0, 2.0, 2020, 020);   
	INSERT INTO EMPLOYEES (EMPLOYEE_ID,FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE,JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID) 
		VALUES (82301, 'PETER','PAN','PETERPAN@ABC.COM','92322943',STR_TO_DATE('2022-05-27', '%Y-%m-%d'),'CS', 28000.0, 2.0, 1010, 010); 
	INSERT INTO JOB_HISTORY (EMPLOYEE_ID, START_DATE, END_DATE, JOB_ID, DEPARTMENT_ID)
		VALUES (82300, STR_TO_DATE('2020-03-07', '%Y-%m-%d'),STR_TO_DATE('2024-09-01', '%Y-%m-%d'),'IT',020);
	INSERT INTO EMPLOYEES (EMPLOYEE_ID,FIRST_NAME, LAST_NAME, EMAIL, PHONE_NUMBER, HIRE_DATE,JOB_ID, SALARY, COMMISSION_PCT, MANAGER_ID, DEPARTMENT_ID) 
		VALUES (82302, 'MIKA','SIN','MIKASIN@ABC.COM','61122343',STR_TO_DATE('2021-01-02', '%Y-%m-%d'),'MK', 58000.0, 2.0, 3030, 030); 
-- DROP TABLE ;
-- SELECT * FROM JOBS;

-- QUESTION 12: 	
    CREATE TABLE JOB_GRADES (
		GRADE_LEVEL VARCHAR(2) PRIMARY KEY,
        LOWEST_SAL DECIMAL(6,1),
        HIGHEST_DAL DECIMAL(7,1)
	);
    
    INSERT INTO JOB_GRADES (GRADE_LEVEL, LOWEST_SAL, HIGHEST_DAL)
		VALUES ('A', 40000.0, 100000.0);
	INSERT INTO JOB_GRADES (GRADE_LEVEL, LOWEST_SAL, HIGHEST_DAL)
		VALUES ('B', 30000.0, 80000.0);
	INSERT INTO JOB_GRADES (GRADE_LEVEL, LOWEST_SAL, HIGHEST_DAL)
		VALUES ('C', 20000.0, 60000.0);
    
    ALTER TABLE JOBS ADD GRADE_LEVEL VARCHAR(2);
    ALTER TABLE JOBS ADD FOREIGN KEY(GRADE_LEVEL) REFERENCES JOB_GRADES(GRADE_LEVEL);
    
    UPDATE JOBS SET GRADE_LEVEL = 'C' WHERE JOB_TITLE = 'OFFICER';
    UPDATE JOBS SET GRADE_LEVEL = 'B' WHERE JOB_TITLE = 'PROGRAMER';
    
    SELECT * FROM JOB_GRADES;
    SELECT * FROM JOBS;
    
        
    